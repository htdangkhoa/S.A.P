{"version":3,"file":"tagmap.js","sourceRoot":"","sources":["../../src/tagmap.ts"],"names":[],"mappings":"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","sourcesContent":["export type HeaderType = 'vorbis' | 'id3v1.1'| 'id3v2.2' | 'id3v2.3' | 'id3v2.4' | 'APEv2' | 'asf';\r\n\r\nexport type CommonTag = 'track' | 'disk' | 'year' | 'title' | 'artist' | 'artists' | 'albumartist' | 'album' | 'date' | 'originaldate' |\r\n  'originalyear' | 'comment' | 'genre' | 'picture' | 'composer' | 'lyrics' | 'albumsort' | 'titlesort' | 'work' |\r\n  'artistsort' | 'albumartistsort' | 'composersort' | 'lyricist' | 'writer' | 'conductor' | 'remixer' |\r\n  'arranger' | 'engineer' | 'producer' | 'djmixer' | 'mixer' | 'label' | 'grouping' | 'subtitle' |\r\n  'discsubtitle' | 'totaltracks' | 'totaldiscs' | 'compilation' | '_rating' | 'bpm' |\r\n  'mood' | 'media' | 'catalognumber' | 'show' | 'showsort' | 'podcast' | 'podcasturl' |\r\n  'releasestatus' | 'releasetype' | 'releasecountry' | 'script' | 'language' |\r\n  'copyright' | 'license' | 'encodedby' | 'encodersettings' | 'gapless' | 'barcode' |\r\n  'isrc' | 'asin' | 'musicbrainz_recordingid' | 'musicbrainz_trackid' | 'musicbrainz_albumid' |\r\n  'musicbrainz_artistid' | 'musicbrainz_albumartistid' | 'musicbrainz_releasegroupid' |\r\n  'musicbrainz_workid' | 'musicbrainz_trmid' | 'musicbrainz_discid' | 'acoustid_id' |\r\n  'acoustid_fingerprint' | 'musicip_puid' | 'musicip_fingerprint' | 'website' | 'performer:instrument' |\r\n  'peakLevel' | 'averageLevel' | 'notes';\r\n\r\nexport interface INativeTagMap {\r\n  [index: string]: CommonTag;\r\n}\r\n\r\nexport interface ITagInfo {\r\n  multiple: boolean;\r\n}\r\n\r\nexport interface ITagInfoMap {\r\n  [index: string]: ITagInfo;\r\n}\r\n\r\ninterface INativeTagMappings {\r\n  asf: INativeTagMap,\r\n  APEv2: INativeTagMap,\r\n  'id3v1.1': INativeTagMap,\r\n  'id3v2.2': INativeTagMap,\r\n  'id3v2.3': INativeTagMap,\r\n  'id3v2.4': INativeTagMap,\r\n  m4a: INativeTagMap,\r\n  vorbis: INativeTagMap\r\n}\r\n\r\n/**\r\n * tagmap maps native meta tags to generic common types\r\n */\r\nexport default class TagMap {\r\n\r\n  public static getCommonTag(tag: CommonTag): ITagInfo {\r\n    return TagMap.commonTags[tag];\r\n  }\r\n\r\n  public static isCommonTag(tag: string): boolean {\r\n    return TagMap.commonTags[tag] !== undefined;\r\n  }\r\n\r\n  /**\r\n   * @param alias Name of common tag\r\n   * @returns {boolean|*} true if given alias is mapped as a singleton', otherwise false\r\n   */\r\n  public static isSingleton(alias: CommonTag): boolean {\r\n    return TagMap.commonTags.hasOwnProperty(alias) && !TagMap.commonTags[alias].multiple;\r\n  }\r\n\r\n  private static commonTags: ITagInfoMap =\r\n  {\r\n    year: {multiple: false},\r\n    track: {multiple: false},\r\n    disk: {multiple: false},\r\n\r\n    title: {multiple: false},\r\n    artist: {multiple: false},\r\n    artists: {multiple: true},\r\n    albumartist: {multiple: false},\r\n    album: {multiple: false},\r\n    date: {multiple: false},\r\n    originaldate: {multiple: false},\r\n    originalyear: {multiple: false},\r\n    comment: {multiple: true},\r\n    genre: {multiple: true},\r\n    picture: {multiple: true},\r\n    composer: {multiple: true},\r\n    lyrics: {multiple: true},\r\n    albumsort: {multiple: false},\r\n    titlesort: {multiple: false},\r\n    work: {multiple: false},\r\n    artistsort: {multiple: false},\r\n    albumartistsort: {multiple: false},\r\n    composersort: {multiple: true},\r\n    lyricist: {multiple: true},\r\n    writer: {multiple: true},\r\n    conductor: {multiple: true},\r\n    remixer: {multiple: true},\r\n    arranger: {multiple: true},\r\n    engineer: {multiple: true},\r\n    producer: {multiple: true},\r\n    djmixer: {multiple: true},\r\n    mixer: {multiple: true},\r\n    label: {multiple: false},\r\n    grouping: {multiple: false},\r\n    subtitle: {multiple: false},\r\n    discsubtitle: {multiple: false},\r\n    totaltracks: {multiple: false},\r\n    totaldiscs: {multiple: false},\r\n    compilation: {multiple: false},\r\n    _rating: {multiple: false},\r\n    bpm: {multiple: false},\r\n    mood: {multiple: false},\r\n    media: {multiple: false},\r\n    catalognumber: {multiple: false},\r\n    show: {multiple: false},\r\n    showsort: {multiple: false},\r\n    podcast: {multiple: false},\r\n    podcasturl: {multiple: false},\r\n    releasestatus: {multiple: false},\r\n    releasetype: {multiple: true},\r\n    releasecountry: {multiple: false},\r\n    script: {multiple: false},\r\n    language: {multiple: false},\r\n    copyright: {multiple: false},\r\n    license: {multiple: false},\r\n    encodedby: {multiple: false},\r\n    encodersettings: {multiple: false},\r\n    gapless: {multiple: false},\r\n    barcode: {multiple: false},\r\n    isrc: {multiple: false},\r\n    asin: {multiple: false},\r\n    musicbrainz_recordingid: {multiple: false},\r\n    musicbrainz_trackid: {multiple: false},\r\n    musicbrainz_albumid: {multiple: false},\r\n    musicbrainz_artistid: {multiple: true},\r\n    musicbrainz_albumartistid: {multiple: true},\r\n    musicbrainz_releasegroupid: {multiple: false},\r\n    musicbrainz_workid: {multiple: false},\r\n    musicbrainz_trmid: {multiple: false},\r\n    musicbrainz_discid: {multiple: false},\r\n    acoustid_id: {multiple: false},\r\n    acoustid_fingerprint: {multiple: false},\r\n    musicip_puid: {multiple: false},\r\n    musicip_fingerprint: {multiple: false},\r\n    website: {multiple: false},\r\n    'performer:instrument': {multiple: true},\r\n    averageLevel: {multiple: false},\r\n    peakLevel: {multiple: false},\r\n    notes: {multiple: true}\r\n  };\r\n\r\n  /**\r\n   * Mapping from native header format to one or possibly more 'common' entries\r\n   * The common entries aim to read the same information from different media files\r\n   * independent of the underlying format\r\n   */\r\n  private static vorbis: INativeTagMap = {\r\n    TITLE: 'title',\r\n    ARTIST: 'artist',\r\n    ARTISTS: 'artists',\r\n    ALBUMARTIST: 'albumartist',\r\n    ALBUM: 'album',\r\n    DATE: 'date',\r\n    ORIGINALDATE: 'originaldate',\r\n    ORIGINALYEAR: 'originalyear',\r\n    COMMENT: 'comment',\r\n    TRACKNUMBER: 'track',\r\n    DISCNUMBER: 'disk',\r\n    GENRE: 'genre',\r\n    METADATA_BLOCK_PICTURE: 'picture',\r\n    COMPOSER: 'composer',\r\n    LYRICS: 'lyrics',\r\n    ALBUMSORT: 'albumsort',\r\n    TITLESORT: 'titlesort',\r\n    WORK: 'work',\r\n    ARTISTSORT: 'artistsort',\r\n    ALBUMARTISTSORT: 'albumartistsort',\r\n    COMPOSERSORT: 'composersort',\r\n    LYRICIST: 'lyricist',\r\n    WRITER: 'writer',\r\n    CONDUCTOR: 'conductor',\r\n    // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\r\n    REMIXER: 'remixer',\r\n    ARRANGER: 'arranger',\r\n    ENGINEER: 'engineer',\r\n    PRODUCER: 'producer',\r\n    DJMIXER: 'djmixer',\r\n    MIXER: 'mixer',\r\n    LABEL: 'label',\r\n    GROUPING: 'grouping',\r\n    SUBTITLE: 'subtitle',\r\n    DISCSUBTITLE: 'discsubtitle',\r\n    TRACKTOTAL: 'totaltracks',\r\n    DISCTOTAL: 'totaldiscs',\r\n    COMPILATION: 'compilation',\r\n    'RATING:user@email': '_rating',\r\n    BPM: 'bpm',\r\n    MOOD: 'mood',\r\n    MEDIA: 'media',\r\n    CATALOGNUMBER: 'catalognumber',\r\n    RELEASESTATUS: 'releasestatus',\r\n    RELEASETYPE: 'releasetype',\r\n    RELEASECOUNTRY: 'releasecountry',\r\n    SCRIPT: 'script',\r\n    LANGUAGE: 'language',\r\n    COPYRIGHT: 'copyright',\r\n    LICENSE: 'license',\r\n    ENCODEDBY: 'encodedby',\r\n    ENCODERSETTINGS: 'encodersettings',\r\n    BARCODE: 'barcode',\r\n    ISRC: 'isrc',\r\n    ASIN: 'asin',\r\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\r\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\r\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\r\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\r\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\r\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\r\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\r\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\r\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\r\n    ACOUSTID_ID: 'acoustid_id',\r\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\r\n    MUSICIP_PUID: 'musicip_puid',\r\n    // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\r\n    WEBSITE: 'website',\r\n    NOTES: 'notes',\r\n    TOTALTRACKS: 'totaltracks',\r\n    TOTALDISCS: 'totaldiscs'\r\n  };\r\n\r\n  private static id3v1_1: INativeTagMap = {\r\n    title: 'title',\r\n    artist: 'artist',\r\n    album: 'album',\r\n    year: 'year',\r\n    comment: 'comment',\r\n    track: 'track',\r\n    genre: 'genre'\r\n  };\r\n\r\n  private static id3v2_2: INativeTagMap = {\r\n    TT2: 'title',\r\n    TP1: 'artist',\r\n    TP2: 'albumartist',\r\n    TAL: 'album',\r\n    TYE: 'year',\r\n    COM: 'comment',\r\n    TRK: 'track',\r\n    TPA: 'disk',\r\n    TCO: 'genre',\r\n    PIC: 'picture',\r\n    TCM: 'composer',\r\n\r\n    TOR: 'originaldate',\r\n    TOT: 'work',\r\n    TXT: 'lyricist',\r\n    TP3: 'conductor',\r\n    TPB: 'label',\r\n    TT1: 'grouping',\r\n    TT3: 'subtitle',\r\n    TLA: 'language',\r\n    TCR: 'copyright',\r\n    WCP: 'license',\r\n    TEN: 'encodedby',\r\n    TSS: 'encodersettings',\r\n    WAR: 'website'\r\n  };\r\n\r\n  private static id3v2_3: INativeTagMap = {\r\n    // id3v2.3\r\n    TIT2: 'title',\r\n    TPE1: 'artist',\r\n    'TXXX:Artists': 'artists',\r\n    TPE2: 'albumartist',\r\n    TALB: 'album',\r\n    TDRV: 'date', // [ 'date', 'year' ] ToDo: improve 'year' mapping\r\n    /**\r\n     * Original release year\r\n     */\r\n    TORY: 'originalyear',\r\n    'COMM:description': 'comment',\r\n    TPOS: 'disk',\r\n    TCON: 'genre',\r\n    APIC: 'picture',\r\n    TCOM: 'composer',\r\n    'USLT:description': 'lyrics',\r\n    TSOA: 'albumsort',\r\n    TSOT: 'titlesort',\r\n    TOAL: 'work',\r\n    TSOP: 'artistsort',\r\n    TSO2: 'albumartistsort',\r\n    TSOC: 'composersort',\r\n    TEXT: 'lyricist',\r\n    'TXXX:Writer': 'writer',\r\n    TPE3: 'conductor',\r\n    // 'IPLS:instrument': 'performer:instrument', // ToDo\r\n    TPE4: 'remixer',\r\n    'IPLS:arranger': 'arranger',\r\n    'IPLS:engineer': 'engineer',\r\n    'IPLS:producer': 'producer',\r\n    'IPLS:DJ-mix': 'djmixer',\r\n    'IPLS:mix': 'mixer',\r\n    TPUB: 'label',\r\n    TIT1: 'grouping',\r\n    TIT3: 'subtitle',\r\n    TRCK: 'track',\r\n    TCMP: 'compilation',\r\n    POPM: '_rating',\r\n    TBPM: 'bpm',\r\n    TMED: 'media',\r\n    'TXXX:CATALOGNUMBER': 'catalognumber',\r\n    'TXXX:MusicBrainz Album Status': 'releasestatus',\r\n    'TXXX:MusicBrainz Album Type': 'releasetype',\r\n    'TXXX:MusicBrainz Album Release Country': 'releasecountry',\r\n    'TXXX:SCRIPT': 'script',\r\n    TLAN: 'language',\r\n    TCOP: 'copyright',\r\n    WCOP: 'license',\r\n    TENC: 'encodedby',\r\n    TSSE: 'encodersettings',\r\n    'TXXX:BARCODE': 'barcode',\r\n    TSRC: 'isrc',\r\n    'TXXX:ASIN': 'asin',\r\n    'TXXX:originalyear': 'originalyear',\r\n    'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\r\n    'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\r\n    'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\r\n    'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\r\n    'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\r\n    'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\r\n    'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\r\n    'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\r\n    'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\r\n    'TXXX:Acoustid Id': 'acoustid_id',\r\n    'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\r\n    'TXXX:MusicIP PUID': 'musicip_puid',\r\n    'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\r\n    WOAR: 'website',\r\n\r\n    // id3v2.4\r\n    TDRC: 'date', // date YYYY-MM-DD\r\n    TYER: 'year',\r\n    TDOR: 'originaldate',\r\n    // 'TMCL:instrument': 'performer:instrument',\r\n    'TIPL:arranger': 'arranger',\r\n    'TIPL:engineer': 'engineer',\r\n    'TIPL:producer': 'producer',\r\n    'TIPL:DJ-mix': 'djmixer',\r\n    'TIPL:mix': 'mixer',\r\n    TMOO: 'mood',\r\n\r\n    // additional mappings:\r\n    SYLT: 'lyrics',\r\n\r\n    // Windows Media Player\r\n    'PRIV:AverageLevel' : 'averageLevel',\r\n    'PRIV:PeakLevel' : 'peakLevel'\r\n  };\r\n  // ToDo: capitalization tricky\r\n  private static ape: INativeTagMap = {\r\n    // MusicBrainz tag mappings:\r\n    Title: 'title',\r\n    Artist: 'artist',\r\n    Artists: 'artists',\r\n    'Album Artist': 'albumartist',\r\n    Album: 'album',\r\n    Year: 'date',\r\n    Originalyear: 'originalyear',\r\n    Originaldate: 'originaldate',\r\n    Comment: 'comment',\r\n    Track: 'track',\r\n    Disc: 'disk',\r\n    DISCNUMBER: 'disk', // ToDo: backwards compatibility', valid tag?\r\n    Genre: 'genre',\r\n    'Cover Art (Front)': 'picture',\r\n    'Cover Art (Back)': 'picture',\r\n    Composer: 'composer',\r\n    Lyrics: 'lyrics',\r\n    ALBUMSORT: 'albumsort',\r\n    TITLESORT: 'titlesort',\r\n    WORK: 'work',\r\n    ARTISTSORT: 'artistsort',\r\n    ALBUMARTISTSORT: 'albumartistsort',\r\n    COMPOSERSORT: 'composersort',\r\n    Lyricist: 'lyricist',\r\n    Writer: 'writer',\r\n    Conductor: 'conductor',\r\n    // 'Performer=artist (instrument)': 'performer:instrument',\r\n    MixArtist: 'remixer',\r\n    Arranger: 'arranger',\r\n    Engineer: 'engineer',\r\n    Producer: 'producer',\r\n    DJMixer: 'djmixer',\r\n    Mixer: 'mixer',\r\n    Label: 'label',\r\n    Grouping: 'grouping',\r\n    Subtitle: 'subtitle',\r\n    DiscSubtitle: 'discsubtitle',\r\n    Compilation: 'compilation',\r\n    BPM: 'bpm',\r\n    Mood: 'mood',\r\n    Media: 'media',\r\n    CatalogNumber: 'catalognumber',\r\n    MUSICBRAINZ_ALBUMSTATUS: 'releasestatus',\r\n    MUSICBRAINZ_ALBUMTYPE: 'releasetype',\r\n    RELEASECOUNTRY: 'releasecountry',\r\n    Script: 'script',\r\n    Language: 'language',\r\n    Copyright: 'copyright',\r\n    LICENSE: 'license',\r\n    EncodedBy: 'encodedby',\r\n    EncoderSettings: 'encodersettings',\r\n    Barcode: 'barcode',\r\n    ISRC: 'isrc',\r\n    ASIN: 'asin',\r\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\r\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\r\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\r\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\r\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\r\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\r\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\r\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\r\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\r\n    ACOUSTID_ID: 'acoustid_id',\r\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\r\n    MUSICIP_PUID: 'musicip_puid',\r\n    Weblink: 'website'\r\n  };\r\n  // ToDo: capitalization tricky\r\n  private static asf: INativeTagMap = {\r\n    // MusicBrainz tag mappings:\r\n    Title: 'title',\r\n    Author: 'artist',\r\n    'WM/AlbumArtist': 'albumartist',\r\n    'WM/AlbumTitle': 'album',\r\n    'WM/Year': 'year',\r\n    'WM/OriginalReleaseTime': 'originaldate',\r\n    'WM/OriginalReleaseYear': 'originalyear',\r\n    Description: 'comment',\r\n    'WM/TrackNumber': 'track',\r\n    'WM/PartOfSet': 'disk',\r\n    'WM/Genre': 'genre',\r\n    'WM/Composer': 'composer',\r\n    'WM/Lyrics': 'lyrics',\r\n    'WM/AlbumSortOrder': 'albumsort',\r\n    'WM/TitleSortOrder': 'titlesort',\r\n    'WM/ArtistSortOrder': 'artistsort',\r\n    'WM/AlbumArtistSortOrder': 'albumartistsort',\r\n    'WM/ComposerSortOrder': 'composersort',\r\n    'WM/Writer': 'lyricist',\r\n    'WM/Conductor': 'conductor',\r\n    'WM/ModifiedBy': 'remixer',\r\n    'WM/Engineer': 'engineer',\r\n    'WM/Producer': 'producer',\r\n    'WM/DJMixer': 'djmixer',\r\n    'WM/Mixer': 'mixer',\r\n    'WM/Publisher': 'label',\r\n    'WM/ContentGroupDescription': 'grouping',\r\n    'WM/SubTitle': 'subtitle',\r\n    'WM/SetSubTitle': 'discsubtitle',\r\n    // 'WM/PartOfSet': 'totaldiscs',\r\n    'WM/IsCompilation': 'compilation',\r\n    'WM/SharedUserRating': '_rating',\r\n    'WM/BeatsPerMinute': 'bpm',\r\n    'WM/Mood': 'mood',\r\n    'WM/Media': 'media',\r\n    'WM/CatalogNo': 'catalognumber',\r\n    'MusicBrainz/Album Status': 'releasestatus',\r\n    'MusicBrainz/Album Type': 'releasetype',\r\n    'MusicBrainz/Album Release Country': 'releasecountry',\r\n    'WM/Script': 'script',\r\n    'WM/Language': 'language',\r\n    Copyright: 'copyright',\r\n    LICENSE: 'license',\r\n    'WM/EncodedBy': 'encodedby',\r\n    'WM/EncodingSettings': 'encodersettings',\r\n    'WM/Barcode': 'barcode',\r\n    'WM/ISRC': 'isrc',\r\n    'MusicBrainz/Track Id': 'musicbrainz_recordingid',\r\n    'MusicBrainz/Release Track Id': 'musicbrainz_trackid',\r\n    'MusicBrainz/Album Id': 'musicbrainz_albumid',\r\n    'MusicBrainz/Artist Id': 'musicbrainz_artistid',\r\n    'MusicBrainz/Album Artist Id': 'musicbrainz_albumartistid',\r\n    'MusicBrainz/Release Group Id': 'musicbrainz_releasegroupid',\r\n    'MusicBrainz/Work Id': 'musicbrainz_workid',\r\n    'MusicBrainz/TRM Id': 'musicbrainz_trmid',\r\n    'MusicBrainz/Disc Id': 'musicbrainz_discid',\r\n    'Acoustid/Id': 'acoustid_id',\r\n    'Acoustid/Fingerprint': 'acoustid_fingerprint',\r\n    'MusicIP/PUID': 'musicip_puid'\r\n  };\r\n\r\n  private static m4a: INativeTagMap = {\r\n    '©nam': 'title',\r\n    '©ART': 'artist',\r\n    aART: 'albumartist',\r\n    '©alb': 'album',\r\n    '©day': 'date',\r\n    '©cmt': 'comment',\r\n    trkn: 'track',\r\n    disk: 'disk',\r\n    '©gen': 'genre',\r\n    covr: 'picture',\r\n    '©wrt': 'composer',\r\n    '©lyr': 'lyrics',\r\n    soal: 'albumsort',\r\n    sonm: 'titlesort',\r\n    soar: 'artistsort',\r\n    soaa: 'albumartistsort',\r\n    soco: 'composersort',\r\n    '----:com.apple.iTunes:LYRICIST': 'lyricist',\r\n    '----:com.apple.iTunes:CONDUCTOR': 'conductor',\r\n    '----:com.apple.iTunes:REMIXER': 'remixer',\r\n    '----:com.apple.iTunes:ENGINEER': 'engineer',\r\n    '----:com.apple.iTunes:PRODUCER': 'producer',\r\n    '----:com.apple.iTunes:DJMIXER': 'djmixer',\r\n    '----:com.apple.iTunes:MIXER': 'mixer',\r\n    '----:com.apple.iTunes:LABEL': 'label',\r\n    '©grp': 'grouping',\r\n    '----:com.apple.iTunes:SUBTITLE': 'subtitle',\r\n    '----:com.apple.iTunes:DISCSUBTITLE': 'discsubtitle',\r\n    cpil: 'compilation',\r\n    tmpo: 'bpm',\r\n    '----:com.apple.iTunes:MOOD': 'mood',\r\n    '----:com.apple.iTunes:MEDIA': 'media',\r\n    '----:com.apple.iTunes:CATALOGNUMBER': 'catalognumber',\r\n    tvsh: 'show',\r\n    sosn: 'showsort',\r\n    pcst: 'podcast',\r\n    purl: 'podcasturl',\r\n    '----:com.apple.iTunes:MusicBrainz Album Status': 'releasestatus',\r\n    '----:com.apple.iTunes:MusicBrainz Album Type': 'releasetype',\r\n    '----:com.apple.iTunes:MusicBrainz Album Release Country': 'releasecountry',\r\n    '----:com.apple.iTunes:SCRIPT': 'script',\r\n    '----:com.apple.iTunes:LANGUAGE': 'language',\r\n    cprt: 'copyright',\r\n    '----:com.apple.iTunes:LICENSE': 'license',\r\n    '©too': 'encodedby',\r\n    pgap: 'gapless',\r\n    '----:com.apple.iTunes:BARCODE': 'barcode',\r\n    '----:com.apple.iTunes:ISRC': 'isrc',\r\n    '----:com.apple.iTunes:ASIN': 'asin',\r\n    '----:com.apple.iTunes:MusicBrainz Track Id': 'musicbrainz_recordingid',\r\n    '----:com.apple.iTunes:MusicBrainz Release Track Id': 'musicbrainz_trackid',\r\n    '----:com.apple.iTunes:MusicBrainz Album Id': 'musicbrainz_albumid',\r\n    '----:com.apple.iTunes:MusicBrainz Artist Id': 'musicbrainz_artistid',\r\n    '----:com.apple.iTunes:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\r\n    '----:com.apple.iTunes:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\r\n    '----:com.apple.iTunes:MusicBrainz Work Id': 'musicbrainz_workid',\r\n    '----:com.apple.iTunes:MusicBrainz TRM Id': 'musicbrainz_trmid',\r\n    '----:com.apple.iTunes:MusicBrainz Disc Id': 'musicbrainz_discid',\r\n    '----:com.apple.iTunes:Acoustid Id': 'acoustid_id',\r\n    '----:com.apple.iTunes:Acoustid Fingerprint': 'acoustid_fingerprint',\r\n    '----:com.apple.iTunes:MusicIP PUID': 'musicip_puid',\r\n    '----:com.apple.iTunes:fingerprint': 'musicip_fingerprint',\r\n    // Additional mappings:\r\n    gnre: 'genre' // ToDo: check mapping\r\n  };\r\n\r\n  private static capitalizeTags(map: INativeTagMap): INativeTagMap {\r\n    let newMap: INativeTagMap = {};\r\n    for (let tag in map) {\r\n      if (map.hasOwnProperty(tag)) {\r\n        newMap[tag.toUpperCase()] = map[tag];\r\n      }\r\n    }\r\n    return newMap;\r\n  }\r\n\r\n  private mappings: INativeTagMappings;\r\n\r\n  constructor() {\r\n    // Normalize (post-process) common tag mappings\r\n    this.mappings = {\r\n      // capitalize 'APEv2' tags for case insensitive tag matching\r\n      asf: TagMap.asf,\r\n      APEv2: TagMap.capitalizeTags(TagMap.ape),\r\n      'id3v1.1': TagMap.id3v1_1,\r\n      'id3v2.2': TagMap.id3v2_2,\r\n      'id3v2.3': TagMap.id3v2_3,\r\n      'id3v2.4': TagMap.id3v2_3,\r\n      m4a: TagMap.m4a,\r\n      vorbis: TagMap.vorbis\r\n    };\r\n\r\n    this.mappings.APEv2 = TagMap.capitalizeTags(this.mappings.APEv2);\r\n\r\n    this.mappings['id3v2.3'] = this.mappings['id3v2.4'];\r\n  }\r\n\r\n  /**\r\n   * Test if native tag headerType is a singleton\r\n   * @param type e.g.: 'm4a' | 'asf' | 'id3v1.1' | 'id3v2.4' | 'vorbis'\r\n   * @param  tag Native tag name', e.g. 'TITLE'\r\n   * @returns {boolean} true is we can safely assume that it is a  singleton\r\n   */\r\n  public isNativeSingleton(type, tag): boolean {\r\n    switch (type) {\r\n      case 'format':\r\n        return true;\r\n      case 'id3v2.3':\r\n        switch (tag) {\r\n          case 'IPLS':\r\n            return true;\r\n        }\r\n      case 'id3v2.4':\r\n        switch (tag) {\r\n          case 'TIPL':\r\n          case 'TMCL':\r\n            return true;\r\n        }\r\n    }\r\n    let alias = this.getCommonName(type, tag);\r\n    return alias && !TagMap.commonTags[alias].multiple;\r\n  }\r\n\r\n  /**\r\n   * @headerType Native header headerType: e.g.: 'm4a' | 'asf' | 'id3v1.1' | 'vorbis'\r\n   * @tag  Native header tag\r\n   * @return common tag name (alias)\r\n   */\r\n  public getCommonName(type: HeaderType, tag: string): CommonTag {\r\n    if (!this.mappings[type]) {\r\n      throw new Error('Illegal header headerType: ' + type);\r\n    }\r\n    return this.mappings[type][type === 'APEv2' ? tag.toUpperCase() : tag];\r\n  }\r\n}\r\n"]}