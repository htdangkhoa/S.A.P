{"version":3,"file":"tagmap.js","sourceRoot":"","sources":["../src/tagmap.ts"],"names":[],"mappings":"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","sourcesContent":["export type HeaderType = 'vorbis' | 'id3v1.1'| 'id3v2.2' | 'id3v2.3' | 'id3v2.4' | 'APEv2' | 'asf';\n\nexport type CommonTag = 'track' | 'disk' | 'year' | 'title' | 'artist' | 'artists' | 'albumartist' | 'album' | 'date' | 'originaldate' |\n  'originalyear' | 'comment' | 'genre' | 'picture' | 'composer' | 'lyrics' | 'albumsort' | 'titlesort' | 'work' |\n  'artistsort' | 'albumartistsort' | 'composersort' | 'lyricist' | 'writer' | 'conductor' | 'remixer' |\n  'arranger' | 'engineer' | 'producer' | 'djmixer' | 'mixer' | 'label' | 'grouping' | 'subtitle' |\n  'discsubtitle' | 'totaltracks' | 'totaldiscs' | 'compilation' | '_rating' | 'bpm' |\n  'mood' | 'media' | 'catalognumber' | 'show' | 'showsort' | 'podcast' | 'podcasturl' |\n  'releasestatus' | 'releasetype' | 'releasecountry' | 'script' | 'language' |\n  'copyright' | 'license' | 'encodedby' | 'encodersettings' | 'gapless' | 'barcode' |\n  'isrc' | 'asin' | 'musicbrainz_recordingid' | 'musicbrainz_trackid' | 'musicbrainz_albumid' |\n  'musicbrainz_artistid' | 'musicbrainz_albumartistid' | 'musicbrainz_releasegroupid' |\n  'musicbrainz_workid' | 'musicbrainz_trmid' | 'musicbrainz_discid' | 'acoustid_id' |\n  'acoustid_fingerprint' | 'musicip_puid' | 'musicip_fingerprint' | 'website' | 'performer:instrument' |\n  'peakLevel' | 'averageLevel' | 'notes';\n\nexport interface INativeTagMap {\n  [index: string]: CommonTag;\n}\n\nexport interface ITagInfo {\n  multiple: boolean;\n}\n\nexport interface ITagInfoMap {\n  [index: string]: ITagInfo;\n}\n\ninterface INativeTagMappings {\n  asf: INativeTagMap,\n  APEv2: INativeTagMap,\n  'id3v1.1': INativeTagMap,\n  'id3v2.2': INativeTagMap,\n  'id3v2.3': INativeTagMap,\n  'id3v2.4': INativeTagMap,\n  m4a: INativeTagMap,\n  vorbis: INativeTagMap\n}\n\n/**\n * tagmap maps native meta tags to generic common types\n */\nexport default class TagMap {\n\n  public static getCommonTag(tag: CommonTag): ITagInfo {\n    return TagMap.commonTags[tag];\n  }\n\n  public static isCommonTag(tag: string): boolean {\n    return TagMap.commonTags[tag] !== undefined;\n  }\n\n  /**\n   * @param alias Name of common tag\n   * @returns {boolean|*} true if given alias is mapped as a singleton', otherwise false\n   */\n  public static isSingleton(alias: CommonTag): boolean {\n    return TagMap.commonTags.hasOwnProperty(alias) && !TagMap.commonTags[alias].multiple;\n  }\n\n  private static commonTags: ITagInfoMap =\n  {\n    year: {multiple: false},\n    track: {multiple: false},\n    disk: {multiple: false},\n\n    title: {multiple: false},\n    artist: {multiple: false},\n    artists: {multiple: true},\n    albumartist: {multiple: false},\n    album: {multiple: false},\n    date: {multiple: false},\n    originaldate: {multiple: false},\n    originalyear: {multiple: false},\n    comment: {multiple: true},\n    genre: {multiple: true},\n    picture: {multiple: true},\n    composer: {multiple: true},\n    lyrics: {multiple: true},\n    albumsort: {multiple: false},\n    titlesort: {multiple: false},\n    work: {multiple: false},\n    artistsort: {multiple: false},\n    albumartistsort: {multiple: false},\n    composersort: {multiple: true},\n    lyricist: {multiple: true},\n    writer: {multiple: true},\n    conductor: {multiple: true},\n    remixer: {multiple: true},\n    arranger: {multiple: true},\n    engineer: {multiple: true},\n    producer: {multiple: true},\n    djmixer: {multiple: true},\n    mixer: {multiple: true},\n    label: {multiple: false},\n    grouping: {multiple: false},\n    subtitle: {multiple: false},\n    discsubtitle: {multiple: false},\n    totaltracks: {multiple: false},\n    totaldiscs: {multiple: false},\n    compilation: {multiple: false},\n    _rating: {multiple: false},\n    bpm: {multiple: false},\n    mood: {multiple: false},\n    media: {multiple: false},\n    catalognumber: {multiple: false},\n    show: {multiple: false},\n    showsort: {multiple: false},\n    podcast: {multiple: false},\n    podcasturl: {multiple: false},\n    releasestatus: {multiple: false},\n    releasetype: {multiple: true},\n    releasecountry: {multiple: false},\n    script: {multiple: false},\n    language: {multiple: false},\n    copyright: {multiple: false},\n    license: {multiple: false},\n    encodedby: {multiple: false},\n    encodersettings: {multiple: false},\n    gapless: {multiple: false},\n    barcode: {multiple: false},\n    isrc: {multiple: false},\n    asin: {multiple: false},\n    musicbrainz_recordingid: {multiple: false},\n    musicbrainz_trackid: {multiple: false},\n    musicbrainz_albumid: {multiple: false},\n    musicbrainz_artistid: {multiple: true},\n    musicbrainz_albumartistid: {multiple: true},\n    musicbrainz_releasegroupid: {multiple: false},\n    musicbrainz_workid: {multiple: false},\n    musicbrainz_trmid: {multiple: false},\n    musicbrainz_discid: {multiple: false},\n    acoustid_id: {multiple: false},\n    acoustid_fingerprint: {multiple: false},\n    musicip_puid: {multiple: false},\n    musicip_fingerprint: {multiple: false},\n    website: {multiple: false},\n    'performer:instrument': {multiple: true},\n    averageLevel: {multiple: false},\n    peakLevel: {multiple: false},\n    notes: {multiple: true}\n  };\n\n  /**\n   * Mapping from native header format to one or possibly more 'common' entries\n   * The common entries aim to read the same information from different media files\n   * independent of the underlying format\n   */\n  private static vorbis: INativeTagMap = {\n    TITLE: 'title',\n    ARTIST: 'artist',\n    ARTISTS: 'artists',\n    ALBUMARTIST: 'albumartist',\n    ALBUM: 'album',\n    DATE: 'date',\n    ORIGINALDATE: 'originaldate',\n    ORIGINALYEAR: 'originalyear',\n    COMMENT: 'comment',\n    TRACKNUMBER: 'track',\n    DISCNUMBER: 'disk',\n    GENRE: 'genre',\n    METADATA_BLOCK_PICTURE: 'picture',\n    COMPOSER: 'composer',\n    LYRICS: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    LYRICIST: 'lyricist',\n    WRITER: 'writer',\n    CONDUCTOR: 'conductor',\n    // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n    REMIXER: 'remixer',\n    ARRANGER: 'arranger',\n    ENGINEER: 'engineer',\n    PRODUCER: 'producer',\n    DJMIXER: 'djmixer',\n    MIXER: 'mixer',\n    LABEL: 'label',\n    GROUPING: 'grouping',\n    SUBTITLE: 'subtitle',\n    DISCSUBTITLE: 'discsubtitle',\n    TRACKTOTAL: 'totaltracks',\n    DISCTOTAL: 'totaldiscs',\n    COMPILATION: 'compilation',\n    'RATING:user@email': '_rating',\n    BPM: 'bpm',\n    MOOD: 'mood',\n    MEDIA: 'media',\n    CATALOGNUMBER: 'catalognumber',\n    RELEASESTATUS: 'releasestatus',\n    RELEASETYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    SCRIPT: 'script',\n    LANGUAGE: 'language',\n    COPYRIGHT: 'copyright',\n    LICENSE: 'license',\n    ENCODEDBY: 'encodedby',\n    ENCODERSETTINGS: 'encodersettings',\n    BARCODE: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    ACOUSTID_ID: 'acoustid_id',\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n    WEBSITE: 'website',\n    NOTES: 'notes',\n    TOTALTRACKS: 'totaltracks',\n    TOTALDISCS: 'totaldiscs'\n  };\n\n  private static id3v1_1: INativeTagMap = {\n    title: 'title',\n    artist: 'artist',\n    album: 'album',\n    year: 'year',\n    comment: 'comment',\n    track: 'track',\n    genre: 'genre'\n  };\n\n  private static id3v2_2: INativeTagMap = {\n    TT2: 'title',\n    TP1: 'artist',\n    TP2: 'albumartist',\n    TAL: 'album',\n    TYE: 'year',\n    COM: 'comment',\n    TRK: 'track',\n    TPA: 'disk',\n    TCO: 'genre',\n    PIC: 'picture',\n    TCM: 'composer',\n\n    TOR: 'originaldate',\n    TOT: 'work',\n    TXT: 'lyricist',\n    TP3: 'conductor',\n    TPB: 'label',\n    TT1: 'grouping',\n    TT3: 'subtitle',\n    TLA: 'language',\n    TCR: 'copyright',\n    WCP: 'license',\n    TEN: 'encodedby',\n    TSS: 'encodersettings',\n    WAR: 'website'\n  };\n\n  private static id3v2_3: INativeTagMap = {\n    // id3v2.3\n    TIT2: 'title',\n    TPE1: 'artist',\n    'TXXX:Artists': 'artists',\n    TPE2: 'albumartist',\n    TALB: 'album',\n    TDRV: 'date', // [ 'date', 'year' ] ToDo: improve 'year' mapping\n    /**\n     * Original release year\n     */\n    TORY: 'originalyear',\n    'COMM:description': 'comment',\n    TPOS: 'disk',\n    TCON: 'genre',\n    APIC: 'picture',\n    TCOM: 'composer',\n    'USLT:description': 'lyrics',\n    TSOA: 'albumsort',\n    TSOT: 'titlesort',\n    TOAL: 'work',\n    TSOP: 'artistsort',\n    TSO2: 'albumartistsort',\n    TSOC: 'composersort',\n    TEXT: 'lyricist',\n    'TXXX:Writer': 'writer',\n    TPE3: 'conductor',\n    // 'IPLS:instrument': 'performer:instrument', // ToDo\n    TPE4: 'remixer',\n    'IPLS:arranger': 'arranger',\n    'IPLS:engineer': 'engineer',\n    'IPLS:producer': 'producer',\n    'IPLS:DJ-mix': 'djmixer',\n    'IPLS:mix': 'mixer',\n    TPUB: 'label',\n    TIT1: 'grouping',\n    TIT3: 'subtitle',\n    TRCK: 'track',\n    TCMP: 'compilation',\n    POPM: '_rating',\n    TBPM: 'bpm',\n    TMED: 'media',\n    'TXXX:CATALOGNUMBER': 'catalognumber',\n    'TXXX:MusicBrainz Album Status': 'releasestatus',\n    'TXXX:MusicBrainz Album Type': 'releasetype',\n    'TXXX:MusicBrainz Album Release Country': 'releasecountry',\n    'TXXX:SCRIPT': 'script',\n    TLAN: 'language',\n    TCOP: 'copyright',\n    WCOP: 'license',\n    TENC: 'encodedby',\n    TSSE: 'encodersettings',\n    'TXXX:BARCODE': 'barcode',\n    TSRC: 'isrc',\n    'TXXX:ASIN': 'asin',\n    'TXXX:originalyear': 'originalyear',\n    'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\n    'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\n    'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\n    'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\n    'TXXX:Acoustid Id': 'acoustid_id',\n    'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\n    'TXXX:MusicIP PUID': 'musicip_puid',\n    'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\n    WOAR: 'website',\n\n    // id3v2.4\n    TDRC: 'date', // date YYYY-MM-DD\n    TYER: 'year',\n    TDOR: 'originaldate',\n    // 'TMCL:instrument': 'performer:instrument',\n    'TIPL:arranger': 'arranger',\n    'TIPL:engineer': 'engineer',\n    'TIPL:producer': 'producer',\n    'TIPL:DJ-mix': 'djmixer',\n    'TIPL:mix': 'mixer',\n    TMOO: 'mood',\n\n    // additional mappings:\n    SYLT: 'lyrics',\n\n    // Windows Media Player\n    'PRIV:AverageLevel' : 'averageLevel',\n    'PRIV:PeakLevel' : 'peakLevel'\n  };\n  // ToDo: capitalization tricky\n  private static ape: INativeTagMap = {\n    // MusicBrainz tag mappings:\n    Title: 'title',\n    Artist: 'artist',\n    Artists: 'artists',\n    'Album Artist': 'albumartist',\n    Album: 'album',\n    Year: 'date',\n    Originalyear: 'originalyear',\n    Originaldate: 'originaldate',\n    Comment: 'comment',\n    Track: 'track',\n    Disc: 'disk',\n    DISCNUMBER: 'disk', // ToDo: backwards compatibility', valid tag?\n    Genre: 'genre',\n    'Cover Art (Front)': 'picture',\n    'Cover Art (Back)': 'picture',\n    Composer: 'composer',\n    Lyrics: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    Lyricist: 'lyricist',\n    Writer: 'writer',\n    Conductor: 'conductor',\n    // 'Performer=artist (instrument)': 'performer:instrument',\n    MixArtist: 'remixer',\n    Arranger: 'arranger',\n    Engineer: 'engineer',\n    Producer: 'producer',\n    DJMixer: 'djmixer',\n    Mixer: 'mixer',\n    Label: 'label',\n    Grouping: 'grouping',\n    Subtitle: 'subtitle',\n    DiscSubtitle: 'discsubtitle',\n    Compilation: 'compilation',\n    BPM: 'bpm',\n    Mood: 'mood',\n    Media: 'media',\n    CatalogNumber: 'catalognumber',\n    MUSICBRAINZ_ALBUMSTATUS: 'releasestatus',\n    MUSICBRAINZ_ALBUMTYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    Script: 'script',\n    Language: 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    EncodedBy: 'encodedby',\n    EncoderSettings: 'encodersettings',\n    Barcode: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    ACOUSTID_ID: 'acoustid_id',\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    Weblink: 'website'\n  };\n  // ToDo: capitalization tricky\n  private static asf: INativeTagMap = {\n    // MusicBrainz tag mappings:\n    Title: 'title',\n    Author: 'artist',\n    'WM/AlbumArtist': 'albumartist',\n    'WM/AlbumTitle': 'album',\n    'WM/Year': 'year',\n    'WM/OriginalReleaseTime': 'originaldate',\n    'WM/OriginalReleaseYear': 'originalyear',\n    Description: 'comment',\n    'WM/TrackNumber': 'track',\n    'WM/PartOfSet': 'disk',\n    'WM/Genre': 'genre',\n    'WM/Composer': 'composer',\n    'WM/Lyrics': 'lyrics',\n    'WM/AlbumSortOrder': 'albumsort',\n    'WM/TitleSortOrder': 'titlesort',\n    'WM/ArtistSortOrder': 'artistsort',\n    'WM/AlbumArtistSortOrder': 'albumartistsort',\n    'WM/ComposerSortOrder': 'composersort',\n    'WM/Writer': 'lyricist',\n    'WM/Conductor': 'conductor',\n    'WM/ModifiedBy': 'remixer',\n    'WM/Engineer': 'engineer',\n    'WM/Producer': 'producer',\n    'WM/DJMixer': 'djmixer',\n    'WM/Mixer': 'mixer',\n    'WM/Publisher': 'label',\n    'WM/ContentGroupDescription': 'grouping',\n    'WM/SubTitle': 'subtitle',\n    'WM/SetSubTitle': 'discsubtitle',\n    // 'WM/PartOfSet': 'totaldiscs',\n    'WM/IsCompilation': 'compilation',\n    'WM/SharedUserRating': '_rating',\n    'WM/BeatsPerMinute': 'bpm',\n    'WM/Mood': 'mood',\n    'WM/Media': 'media',\n    'WM/CatalogNo': 'catalognumber',\n    'MusicBrainz/Album Status': 'releasestatus',\n    'MusicBrainz/Album Type': 'releasetype',\n    'MusicBrainz/Album Release Country': 'releasecountry',\n    'WM/Script': 'script',\n    'WM/Language': 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    'WM/EncodedBy': 'encodedby',\n    'WM/EncodingSettings': 'encodersettings',\n    'WM/Barcode': 'barcode',\n    'WM/ISRC': 'isrc',\n    'MusicBrainz/Track Id': 'musicbrainz_recordingid',\n    'MusicBrainz/Release Track Id': 'musicbrainz_trackid',\n    'MusicBrainz/Album Id': 'musicbrainz_albumid',\n    'MusicBrainz/Artist Id': 'musicbrainz_artistid',\n    'MusicBrainz/Album Artist Id': 'musicbrainz_albumartistid',\n    'MusicBrainz/Release Group Id': 'musicbrainz_releasegroupid',\n    'MusicBrainz/Work Id': 'musicbrainz_workid',\n    'MusicBrainz/TRM Id': 'musicbrainz_trmid',\n    'MusicBrainz/Disc Id': 'musicbrainz_discid',\n    'Acoustid/Id': 'acoustid_id',\n    'Acoustid/Fingerprint': 'acoustid_fingerprint',\n    'MusicIP/PUID': 'musicip_puid'\n  };\n\n  private static m4a: INativeTagMap = {\n    '©nam': 'title',\n    '©ART': 'artist',\n    aART: 'albumartist',\n    '©alb': 'album',\n    '©day': 'date',\n    '©cmt': 'comment',\n    trkn: 'track',\n    disk: 'disk',\n    '©gen': 'genre',\n    covr: 'picture',\n    '©wrt': 'composer',\n    '©lyr': 'lyrics',\n    soal: 'albumsort',\n    sonm: 'titlesort',\n    soar: 'artistsort',\n    soaa: 'albumartistsort',\n    soco: 'composersort',\n    '----:com.apple.iTunes:LYRICIST': 'lyricist',\n    '----:com.apple.iTunes:CONDUCTOR': 'conductor',\n    '----:com.apple.iTunes:REMIXER': 'remixer',\n    '----:com.apple.iTunes:ENGINEER': 'engineer',\n    '----:com.apple.iTunes:PRODUCER': 'producer',\n    '----:com.apple.iTunes:DJMIXER': 'djmixer',\n    '----:com.apple.iTunes:MIXER': 'mixer',\n    '----:com.apple.iTunes:LABEL': 'label',\n    '©grp': 'grouping',\n    '----:com.apple.iTunes:SUBTITLE': 'subtitle',\n    '----:com.apple.iTunes:DISCSUBTITLE': 'discsubtitle',\n    cpil: 'compilation',\n    tmpo: 'bpm',\n    '----:com.apple.iTunes:MOOD': 'mood',\n    '----:com.apple.iTunes:MEDIA': 'media',\n    '----:com.apple.iTunes:CATALOGNUMBER': 'catalognumber',\n    tvsh: 'show',\n    sosn: 'showsort',\n    pcst: 'podcast',\n    purl: 'podcasturl',\n    '----:com.apple.iTunes:MusicBrainz Album Status': 'releasestatus',\n    '----:com.apple.iTunes:MusicBrainz Album Type': 'releasetype',\n    '----:com.apple.iTunes:MusicBrainz Album Release Country': 'releasecountry',\n    '----:com.apple.iTunes:SCRIPT': 'script',\n    '----:com.apple.iTunes:LANGUAGE': 'language',\n    cprt: 'copyright',\n    '----:com.apple.iTunes:LICENSE': 'license',\n    '©too': 'encodedby',\n    pgap: 'gapless',\n    '----:com.apple.iTunes:BARCODE': 'barcode',\n    '----:com.apple.iTunes:ISRC': 'isrc',\n    '----:com.apple.iTunes:ASIN': 'asin',\n    '----:com.apple.iTunes:MusicBrainz Track Id': 'musicbrainz_recordingid',\n    '----:com.apple.iTunes:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    '----:com.apple.iTunes:MusicBrainz Album Id': 'musicbrainz_albumid',\n    '----:com.apple.iTunes:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    '----:com.apple.iTunes:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    '----:com.apple.iTunes:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    '----:com.apple.iTunes:MusicBrainz Work Id': 'musicbrainz_workid',\n    '----:com.apple.iTunes:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    '----:com.apple.iTunes:MusicBrainz Disc Id': 'musicbrainz_discid',\n    '----:com.apple.iTunes:Acoustid Id': 'acoustid_id',\n    '----:com.apple.iTunes:Acoustid Fingerprint': 'acoustid_fingerprint',\n    '----:com.apple.iTunes:MusicIP PUID': 'musicip_puid',\n    '----:com.apple.iTunes:fingerprint': 'musicip_fingerprint',\n    // Additional mappings:\n    gnre: 'genre' // ToDo: check mapping\n  };\n\n  private static capitalizeTags(map: INativeTagMap): INativeTagMap {\n    const newMap: INativeTagMap = {};\n    for (const tag in map) {\n      if (map.hasOwnProperty(tag)) {\n        newMap[tag.toUpperCase()] = map[tag];\n      }\n    }\n    return newMap;\n  }\n\n  private mappings: INativeTagMappings;\n\n  constructor() {\n    // Normalize (post-process) common tag mappings\n    this.mappings = {\n      // capitalize 'APEv2' tags for case insensitive tag matching\n      asf: TagMap.asf,\n      APEv2: TagMap.capitalizeTags(TagMap.ape),\n      'id3v1.1': TagMap.id3v1_1,\n      'id3v2.2': TagMap.id3v2_2,\n      'id3v2.3': TagMap.id3v2_3,\n      'id3v2.4': TagMap.id3v2_3,\n      m4a: TagMap.m4a,\n      vorbis: TagMap.vorbis\n    };\n\n    this.mappings.APEv2 = TagMap.capitalizeTags(this.mappings.APEv2);\n\n    this.mappings['id3v2.3'] = this.mappings['id3v2.4'];\n  }\n\n  /**\n   * Test if native tag headerType is a singleton\n   * @param type e.g.: 'm4a' | 'asf' | 'id3v1.1' | 'id3v2.4' | 'vorbis'\n   * @param  tag Native tag name', e.g. 'TITLE'\n   * @returns {boolean} true is we can safely assume that it is a  singleton\n   */\n  public isNativeSingleton(type, tag): boolean {\n    switch (type) {\n      case 'format':\n        return true;\n      case 'id3v2.3':\n        switch (tag) {\n          case 'IPLS':\n            return true;\n        }\n      case 'id3v2.4':\n        switch (tag) {\n          case 'TIPL':\n          case 'TMCL':\n            return true;\n        }\n    }\n    const alias = this.getCommonName(type, tag);\n    return alias && !TagMap.commonTags[alias].multiple;\n  }\n\n  /**\n   * @headerType Native header headerType: e.g.: 'm4a' | 'asf' | 'id3v1.1' | 'vorbis'\n   * @tag  Native header tag\n   * @return common tag name (alias)\n   */\n  public getCommonName(type: HeaderType, tag: string): CommonTag {\n    if (!this.mappings[type]) {\n      throw new Error('Illegal header headerType: ' + type);\n    }\n    return this.mappings[type][type === 'APEv2' ? tag.toUpperCase() : tag];\n  }\n}\n"]}